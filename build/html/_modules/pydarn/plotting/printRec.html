


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pydarn.plotting.printRec &mdash; davitpy</title>
    
    <link rel="stylesheet" href="../../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../../_static/cloud.js"></script>
    <link rel="top" title="davitpy" href="../../../index.html" />
    <link rel="up" title="pydarn.plotting" href="../plotting.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../../../index.html">davitpy</a> &raquo;</li>

          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../plotting.html" accesskey="U">pydarn.plotting</a> &raquo;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pydarn.plotting.printRec</h1><div class="highlight"><pre>
<span class="c"># Copyright (C) 2012  VT SuperDARN Lab</span>
<span class="c"># Full license can be found in LICENSE.txt</span>
<span class="c"># </span>
<span class="c"># This program is free software: you can redistribute it and/or modify</span>
<span class="c"># it under the terms of the GNU General Public License as published by</span>
<span class="c"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c"># (at your option) any later version.</span>
<span class="c"># </span>
<span class="c"># This program is distributed in the hope that it will be useful,</span>
<span class="c"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c"># GNU General Public License for more details.</span>
<span class="c"># </span>
<span class="c"># You should have received a copy of the GNU General Public License</span>
<span class="c"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. module:: printRec</span>
<span class="sd">   :synopsis: functions for printing radar data records to plain text</span>

<span class="sd">.. moduleauthor:: AJ, 20130327</span>

<span class="sd">*****************************</span>
<span class="sd">**Module**: printRec</span>
<span class="sd">*****************************</span>
<span class="sd">**Functions**:</span>
<span class="sd">  * :func:`fitPrintRec`</span>
<span class="sd">  * :func:`readPrintRec`</span>

<span class="sd">&quot;&quot;&quot;</span>

<div class="viewcode-block" id="readPrintRec"><a class="viewcode-back" href="../../../pydarn.plotting.printRec.html#pydarn.plotting.printRec.readPrintRec">[docs]</a><span class="k">def</span> <span class="nf">readPrintRec</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;A function to read the output of fitPrintRec</span>
<span class="sd">  </span>
<span class="sd">    **Args**:</span>
<span class="sd">      * **filename**: the name of the file</span>
<span class="sd">    **Returns**:</span>
<span class="sd">      * Nothing</span>
<span class="sd">    </span>
<span class="sd">  **Example**:</span>
<span class="sd">    ::</span>
<span class="sd">    </span>
<span class="sd">      readPrintRec(&#39;myfile.txt&#39;)</span>
<span class="sd">      </span>
<span class="sd">    Written by AJ 20130327</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="kn">import</span> <span class="nn">datetime</span> <span class="kn">as</span> <span class="nn">dt</span>

  <span class="c">#open the file</span>
  <span class="k">try</span><span class="p">:</span> <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
  <span class="k">except</span> <span class="ne">Exception</span><span class="p">,</span><span class="n">e</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">e</span>
    <span class="k">print</span> <span class="s">&#39;problem opening the file </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">filename</span>
    <span class="k">return</span> <span class="bp">None</span>

  <span class="c">#read the first line</span>
  <span class="n">line</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
  <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span>

  <span class="c">#read until the end of the file</span>
  <span class="k">while</span> <span class="n">line</span><span class="p">:</span>
    <span class="c">#split the lines by whitespace</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="c">#check for first header line</span>
    <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">d</span><span class="p">,</span><span class="n">t</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cols</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="c">#parse the line into a datetime object</span>
      <span class="n">time</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">[:</span><span class="mi">4</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="mi">8</span><span class="p">:]),</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="mi">2</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">6</span><span class="p">:]))</span>
      <span class="n">radname</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
      <span class="n">filetype</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
      <span class="k">print</span> <span class="n">time</span>
    <span class="c">#check for second header line</span>
    <span class="k">elif</span> <span class="n">cnt</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
      <span class="n">bmnum</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
      <span class="n">tfreq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
      <span class="n">scanflg</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">17</span><span class="p">]</span>
    <span class="c">#check for third header line</span>
    <span class="k">elif</span> <span class="n">cnt</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
      <span class="n">npnts</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
      <span class="n">nrang</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
      <span class="n">channel</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
      <span class="n">cpid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
    <span class="c">#check for fourth header line</span>
    <span class="k">elif</span> <span class="n">cnt</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
      <span class="c">#empty lists to hold the fitted parameters</span>
      <span class="n">gates</span><span class="p">,</span><span class="n">pwr</span><span class="p">,</span><span class="n">vel</span><span class="p">,</span><span class="n">gsct</span><span class="p">,</span><span class="n">vel_err</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">glat</span><span class="p">,</span><span class="n">glon</span><span class="p">,</span><span class="n">gazm</span><span class="p">,</span><span class="n">mlat</span><span class="p">,</span><span class="n">mlon</span><span class="p">,</span><span class="n">mazm</span> <span class="o">=</span> \
                <span class="p">[],[],[],[],[],[],[],[],[],[],[],[]</span>

      <span class="c">#read all of the reange gates</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">npnts</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="c">#parse the line into the corresponding lists</span>
        <span class="n">gates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">pwr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
        <span class="n">vel</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span>
        <span class="n">gsct</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span>
        <span class="n">vel_err</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span>
        <span class="n">width</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">7</span><span class="p">]))</span>
        <span class="n">glat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">8</span><span class="p">]))</span>
        <span class="n">glon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">9</span><span class="p">]))</span>
        <span class="n">gazm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">10</span><span class="p">]))</span>
        <span class="n">mlat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">11</span><span class="p">]))</span>
        <span class="n">mlon</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">12</span><span class="p">]))</span>
        <span class="n">mazm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">13</span><span class="p">]))</span>
      <span class="c">#read the blank line after each record</span>
      <span class="n">line</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
      <span class="c">#reset the count</span>
      <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c">#read the next line</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>

  <span class="c">#close the file</span>
  <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="fitPrintRec"><a class="viewcode-back" href="../../../pydarn.plotting.printRec.html#pydarn.plotting.printRec.fitPrintRec">[docs]</a><span class="k">def</span> <span class="nf">fitPrintRec</span><span class="p">(</span><span class="n">sTime</span><span class="p">,</span> <span class="n">eTime</span><span class="p">,</span> <span class="n">rad</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="n">fileType</span><span class="o">=</span><span class="s">&#39;fitex&#39;</span><span class="p">,</span> <span class="n">summ</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;A function to print the contents of a fit-type file</span>
<span class="sd">  </span>
<span class="sd">    **Args**:</span>
<span class="sd">      * **sTime**: the start time as a datetime</span>
<span class="sd">      * **eTime**: the end time as a datetime</span>
<span class="sd">      * **rad**: the 3 letter radar code, eg &#39;bks&#39;</span>
<span class="sd">      * **outfile**: the txt file we are outputting to</span>
<span class="sd">      * **[fileType]**: the filetype to read, &#39;fitex&#39;,&#39;fitacf&#39;,&#39;lmfit&#39;; </span>
<span class="sd">        default = &#39;fitex&#39;</span>
<span class="sd">      * **[summ]**: option to output a beam summary instead of all data</span>
<span class="sd">    **Returns**:</span>
<span class="sd">      * Nothing</span>
<span class="sd">    </span>
<span class="sd">  **Example**:</span>
<span class="sd">    ::</span>
<span class="sd">    </span>
<span class="sd">      fitPrintRec(datetime(2011,1,1,1,0),datetime(2011,1,1,2,0),&#39;bks&#39;,&#39;myoutfile.txt&#39;,summ=1)</span>
<span class="sd">      </span>
<span class="sd">    Written by AJ 20130327</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="kn">import</span> <span class="nn">pydarn</span><span class="o">,</span> <span class="nn">utils</span><span class="o">,</span> <span class="nn">models</span>
  
  <span class="n">myPtr</span> <span class="o">=</span> <span class="n">pydarn</span><span class="o">.</span><span class="n">sdio</span><span class="o">.</span><span class="n">radDataOpen</span><span class="p">(</span><span class="n">sTime</span><span class="p">,</span><span class="n">rad</span><span class="p">,</span><span class="n">eTime</span><span class="o">=</span><span class="n">eTime</span><span class="p">,</span><span class="n">fileType</span><span class="o">=</span><span class="n">fileType</span><span class="p">)</span>
  <span class="k">if</span><span class="p">(</span><span class="n">myPtr</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span> <span class="k">return</span> <span class="bp">None</span>
  
  <span class="n">myData</span> <span class="o">=</span> <span class="n">pydarn</span><span class="o">.</span><span class="n">sdio</span><span class="o">.</span><span class="n">radDataReadRec</span><span class="p">(</span><span class="n">myPtr</span><span class="p">)</span>
  <span class="k">if</span><span class="p">(</span><span class="n">myData</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span> <span class="k">return</span> <span class="bp">None</span>
  
  
  <span class="n">radar</span> <span class="o">=</span> <span class="n">pydarn</span><span class="o">.</span><span class="n">radar</span><span class="o">.</span><span class="n">network</span><span class="p">()</span><span class="o">.</span><span class="n">getRadarByCode</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
  <span class="n">site</span> <span class="o">=</span> <span class="n">radar</span><span class="o">.</span><span class="n">getSiteByDate</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
  <span class="n">myFov</span> <span class="o">=</span> <span class="n">pydarn</span><span class="o">.</span><span class="n">radar</span><span class="o">.</span><span class="n">radFov</span><span class="o">.</span><span class="n">fov</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="p">,</span><span class="n">rsep</span><span class="o">=</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">rsep</span><span class="p">,</span><span class="n">ngates</span><span class="o">=</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">nrang</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">altitude</span><span class="o">=</span><span class="mf">300.</span><span class="p">)</span>
  
  
  <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
  
  
  <span class="n">t</span> <span class="o">=</span> <span class="n">myData</span><span class="o">.</span><span class="n">time</span>
  
  <span class="k">if</span><span class="p">(</span><span class="n">summ</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;{0:10s} {1:3s} {2:7s}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y-%m-</span><span class="si">%d</span><span class="s">&quot;</span><span class="p">),</span><span class="n">radar</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="n">myData</span><span class="p">))</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;{0:9s} {11:6s} {1:&gt;4s} {2:&gt;5s} {3:&gt;5s} {12:4s} {4:&gt;7s} {5:&gt;7s} {6:&gt;5s} {7:&gt;5s} {8:&gt;5s} {9:&gt;5s} {10:&gt;4s}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span>\
    <span class="n">format</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">,</span><span class="s">&#39;beam&#39;</span><span class="p">,</span><span class="s">&#39;npnts&#39;</span><span class="p">,</span><span class="s">&#39;nrang&#39;</span><span class="p">,</span><span class="s">&#39;cpid&#39;</span><span class="p">,</span><span class="s">&#39;channel&#39;</span><span class="p">,</span><span class="s">&#39;tfreq&#39;</span><span class="p">,</span><span class="s">&#39;lagfr&#39;</span><span class="p">,</span><span class="s">&#39;smsep&#39;</span><span class="p">,</span><span class="s">&#39;intt&#39;</span><span class="p">,</span><span class="s">&#39;scan&#39;</span><span class="p">,</span><span class="s">&#39;us&#39;</span><span class="p">,</span><span class="s">&#39;rsep&#39;</span><span class="p">))</span>
      
      
  <span class="k">while</span><span class="p">(</span><span class="n">myData</span> <span class="o">!=</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">myData</span><span class="o">.</span><span class="n">time</span> <span class="o">&lt;=</span> <span class="n">eTime</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">myData</span><span class="o">.</span><span class="n">time</span>
    <span class="k">if</span><span class="p">(</span><span class="n">summ</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y-%m-</span><span class="si">%d</span><span class="s">  &quot;</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%H:%M:%S  &quot;</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">radar</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s">&#39; &#39;</span><span class="p">)</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">fType</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;bmnum = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  tfreq = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">tfreq</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  sky_noise_lev = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">noisesky</span><span class="p">)))))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  search_noise_lev = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">noisesearch</span><span class="p">)))))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  xcf = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">xcf</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  scan = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="o">+</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">scan</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;npnts = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">)))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  nrang = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">nrang</span><span class="p">))</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  channel = &#39;</span><span class="o">+</span><span class="n">myData</span><span class="o">.</span><span class="n">channel</span><span class="p">)</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;  cpid = &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">cp</span><span class="p">)</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
      
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;{0:&gt;4s} {13:&gt;5s} {1:&gt;5s} / {2:&lt;5s} {3:&gt;8s} {4:&gt;3s} {5:&gt;8s} {6:&gt;8s} {7:&gt;8s} {8:&gt;8s} {9:&gt;8s} {10:&gt;8s} {11:&gt;8s} {12:&gt;8s}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span> \
      <span class="p">(</span><span class="s">&#39;gate&#39;</span><span class="p">,</span><span class="s">&#39;pwr_0&#39;</span><span class="p">,</span><span class="s">&#39;pwr_l&#39;</span><span class="p">,</span><span class="s">&#39;vel&#39;</span><span class="p">,</span><span class="s">&#39;gsf&#39;</span><span class="p">,</span><span class="s">&#39;vel_err&#39;</span><span class="p">,</span><span class="s">&#39;width_l&#39;</span><span class="p">,</span><span class="s">&#39;geo_lat&#39;</span><span class="p">,</span><span class="s">&#39;geo_lon&#39;</span><span class="p">,</span><span class="s">&#39;geo_azm&#39;</span><span class="p">,</span>
        <span class="s">&#39;mag_lat&#39;</span><span class="p">,</span><span class="s">&#39;mag_lon&#39;</span><span class="p">,</span><span class="s">&#39;mag_azm&#39;</span><span class="p">,</span><span class="s">&#39;range&#39;</span><span class="p">))</span>
      
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">)):</span>

        <span class="n">d</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">geoPack</span><span class="o">.</span><span class="n">calcDistPnt</span><span class="p">(</span><span class="n">myFov</span><span class="o">.</span><span class="n">latFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
                                      <span class="n">myFov</span><span class="o">.</span><span class="n">lonFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="mi">300</span><span class="p">,</span>
                                      <span class="n">distLat</span><span class="o">=</span><span class="n">myFov</span><span class="o">.</span><span class="n">latFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> \
                                      <span class="n">distLon</span><span class="o">=</span><span class="n">myFov</span><span class="o">.</span><span class="n">lonFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span> <span class="p">],</span><span class="n">distAlt</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

        <span class="n">gazm</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;az&#39;</span><span class="p">]</span>

        <span class="n">mlat</span><span class="p">,</span><span class="n">mlon</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">aacgm</span><span class="o">.</span><span class="n">aacgmConv</span><span class="p">(</span><span class="n">myFov</span><span class="o">.</span><span class="n">latFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
                                                <span class="n">myFov</span><span class="o">.</span><span class="n">lonFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span><span class="mi">300</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">mlat2</span><span class="p">,</span><span class="n">mlon2</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">aacgm</span><span class="o">.</span><span class="n">aacgmConv</span><span class="p">(</span><span class="n">myFov</span><span class="o">.</span><span class="n">latFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span>
                                                <span class="n">myFov</span><span class="o">.</span><span class="n">lonFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="mi">300</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>


        <span class="n">d</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">geoPack</span><span class="o">.</span><span class="n">calcDistPnt</span><span class="p">(</span><span class="n">mlat</span><span class="p">,</span><span class="n">mlon</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="n">distLat</span><span class="o">=</span><span class="n">mlat2</span><span class="p">,</span><span class="n">distLon</span><span class="o">=</span><span class="n">mlon2</span><span class="p">,</span><span class="n">distAlt</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

        <span class="n">mazm</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;az&#39;</span><span class="p">]</span>

        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;{0:4d} {13:5d} {1:&gt;5.1f} / {2:&lt;5.1f} {3:&gt;8.1f} {4:&gt;3d} {5:&gt;8.1f} {6:&gt;8.1f} {7:&gt;8.2f} {8:&gt;8.2f} {9:&gt;8.2f} {10:&gt;8.2f} {11:&gt;8.2f} {12:&gt;8.2f}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span> \
                  <span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">pwr0</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">p_l</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>\
                  <span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">gflg</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">v_e</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>\
                  <span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">w_l</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">myFov</span><span class="o">.</span><span class="n">latFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>\
                  <span class="n">myFov</span><span class="o">.</span><span class="n">lonFull</span><span class="p">[</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">][</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">gazm</span><span class="p">,</span> <span class="n">mlat</span><span class="p">,</span> <span class="n">mlon</span><span class="p">,</span> <span class="n">mazm</span><span class="p">,</span> \
                  <span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">frang</span><span class="o">+</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">rsep</span><span class="p">))</span>
          
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
      
    <span class="k">else</span><span class="p">:</span>
      <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;{0:9s} {11:6s} {1:&gt;4d} {2:&gt;5d} {3:&gt;5d} {12:&gt;4d} {4:&gt;7d} {5:&gt;7s} {6:&gt;5d} {7:&gt;5d} {8:&gt;5d} {9:&gt;5.2f} {10:&gt;4d}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span>\
      <span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%H:%M:%S.&quot;</span><span class="p">),</span><span class="n">myData</span><span class="o">.</span><span class="n">bmnum</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">myData</span><span class="o">.</span><span class="n">fit</span><span class="o">.</span><span class="n">slist</span><span class="p">),</span>\
      <span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">nrang</span><span class="p">,</span><span class="n">myData</span><span class="o">.</span><span class="n">cp</span><span class="p">,</span><span class="n">myData</span><span class="o">.</span><span class="n">channel</span><span class="p">,</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">tfreq</span><span class="p">,</span>\
      <span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">lagfr</span><span class="p">,</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">smsep</span><span class="p">,</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">inttsc</span><span class="o">+</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">inttus</span><span class="o">/</span><span class="mf">1e6</span><span class="p">,</span>\
      <span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">scan</span><span class="p">,</span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">),</span><span class="n">myData</span><span class="o">.</span><span class="n">prm</span><span class="o">.</span><span class="n">rsep</span><span class="p">))</span>
      
    <span class="n">myData</span> <span class="o">=</span> <span class="n">pydarn</span><span class="o">.</span><span class="n">sdio</span><span class="o">.</span><span class="n">radDataReadRec</span><span class="p">(</span><span class="n">myPtr</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">myData</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span> <span class="k">break</span>
    </div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../../index.html">
          <img class="logo" src="../../../_static/davitpy.svg" alt="Logo" style="width: 80%;"/>
        </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../../../index.html">davitpy</a> &raquo;</li>

          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../plotting.html" >pydarn.plotting</a> &raquo;</li> 
      </ul>
    </div>
    </div>


    <div class="footer">
        &copy; Copyright 2013, VT SuperDARN Lab and Friends.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40150576-2', 'vt.edu');
  ga('send', 'pageview');

</script>

  </body>
</html>